
@startuml
title Process Bundle Activity Diagram

start
if (Is destination node ?) then (true)
	:Dispatch the bundle\nto the destination app;
else (false)
	if (lifetime < (NOW - creationTimestamp) ? ) then (true)
		:Discard the bundle;
	else (false)
		if (Is there any neighbour\napart from transmitter ?) then (true)
			if (Is destination a neighbour ?) then (true)
				:Forward the bundle\nto destination;
			else (false)
				:Forward the bundle\nto a neighbour other\nthan transmitter;
			endif
		else (false)
			:Enqueue bundle for\nlater processing;
		endif
	endif
endif
end

@enduml